<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Mastered YT Aditya">
  <meta name="description" content="A avatar generator which can create avatars like GitHub">
  <link rel="shortcut icon" href="data:image/png;base64,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" type="image/x-icon">
  <title>GitHub Avatar Creator</title>
  <style>
  input {
  width: 250px;
  height: 30px;
  box-sizing: border-box;
  margin-bottom: 20px;
  display: block;
}
  </style>

</head>
<body bgcolor="#000000">
<!-- partial:index.partial.html -->
<input placeholder="Enter name">
<!-- partial -->
  <script>
  async function sha256(message) {
  // encode as UTF-8
  const msgBuffer = new TextEncoder("utf-8").encode(message);

  // hash the message
  const hashBuffer = await crypto.subtle.digest("SHA-256", msgBuffer);

  // convert ArrayBuffer to Array
  const hashArray = Array.from(new Uint8Array(hashBuffer));

  // convert bytes to hex string
  const hashHex = hashArray
    .map(b => ("00" + b.toString(16)).slice(-2))
    .join("");
  return hashHex;
}

(async function() {
  
  let input = document.querySelector("input");
  let canvas = document.createElement("canvas");
  canvas.width = 250;
  canvas.height = 250;
  let ctx = canvas.getContext("2d");
  
  document.body.appendChild(canvas);

  input.addEventListener("input", async function() {
    let m = [
      [0, 0, 0, 0, 0], 
      [0, 0, 0, 0, 0], 
      [0, 0, 0, 0, 0], 
      [0, 0, 0, 0, 0], 
      [0, 0, 0, 0, 0]
    ];
    
    let hash = (await sha256(this.value)).substr(0, m.length * m[0].length);
    
    for (let i = 0; i < m.length; i++) {
      for (let j = 0; j < m[i].length; j++) {
        let n = parseInt(hash.substr(i * j + j, 1), 16);
        m[i][j] = n > 7 ? 0 : 1;
      }
    }
    
    // make symetric
    for (let i = 0; i < m.length; i++) {
      for (let j = Math.round(m[i].length / 2), k = 2; j < m[i].length; j++, k += 2) {
        m[i][j] = m[i][j - k];
      }
    }
    
    drawMatrix(m);
    
  });
  
  function clear() {
    ctx.fillStyle = "#F8F8F8";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  }
  
  function drawMatrix(m) {
    clear();    
    
    let r = Math.floor(Math.random() * 128 + 128);
    let g = Math.floor(Math.random() * 128 + 128);
    let b = Math.floor(Math.random() * 128 + 128);
    
    ctx.fillStyle = `rgba(${r}, ${g}, ${b}, 1)`;
    
    for (let i = 0; i < m.length; i++) {
      for (let j = 0; j < m[i].length; j++) {
        if (m[i][j] === 1) {
          ctx.fillRect(j * 50, i * 50, 50, 50);
        }
      }
    }
  }
  
  clear();
  
})();
  </script>

</body>
</html>
